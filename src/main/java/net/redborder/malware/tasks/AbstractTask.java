package net.redborder.malware.tasks;

public abstract class AbstractTask implements Task{

    public String getTaskName(){
        return this.getClass().getSimpleName();
    }

    @Override
    public Object doTask(TaskMonitor monitor){

        monitor.setCurrentActivityDescription(String.format("Doing task %s ...", getTaskName()));

        if (monitor.taskShouldAbort()) {
            return null;
        }

        Object result = doTaskImpl(monitor);
        monitor.setCurrentActivityDescription(String.format("Task %s complete.", getTaskName()));

        return result;
    }

    protected abstract Object doTaskImpl(TaskMonitor monitor);


}
